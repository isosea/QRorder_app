<div class="col-md-6 offset-md-3">
  <section class="form">
    <h1>メニュー<%= yield(:button_text) %></h1>
    <%= form_with(model: @menu, local: true) do |f| %>
    <%= render 'shared/error_messages', object: f.object %>
    <div class="name_field">
      <%= f.text_field :name, placeholder: "メニュー名" %>
    </div>
    <div class="price_field">
      <%= f.number_field :price, placeholder: "値段" %>
    </div>
    <div class="field">
      <%= f.text_area :content, placeholder: "メニュー内容" %>
    </div>
    <div class="name-field">
      <%= f.text_field :category, placeholder: "カテゴリー" %>
    </div>
    画像を選択してください
    <span class="image">
      <%= f.file_field :image, accept: "image/jpeg,image/gif,image/png" %>
    </span>
    <%= f.submit yield(:button_text), class: "btn btn-primary" %>
    <% end %>
  </section>
</div>

<script type="text/javascript">
  $("#menu_image").bind("change", function () {
    var size_in_megabytes = this.files[0].size / 1024 / 1024;
    if (size_in_megabytes > 5) {
      alert("Maximum file size is 5MB. Please choose a smaller file.");
      $("#menu_image").val("");
    }
  });
</script>